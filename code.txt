ssh root@103.75.183.59
0908
scp .\package.json root@103.75.183.59:/root/banmaorps_bot/
scp .\i18n.js root@103.75.183.59:/root/banmaorps_bot/
scp .\index.js root@103.75.183.59:/root/banmaorps_bot/
scp -r .\locales root@103.75.183.59:/root/banmaorps_bot/
scp .\database.js root@103.75.183.59:/root/banmaorps_bot/
scp .\scienceQuestions.js root@103.75.183.59:/root/banmaorps_bot/
scp .\.gitignore root@103.75.183.59:/root/banmaorps_bot/
scp .\supabase-pg-lite.js root@103.75.183.59:/root/banmaorps_bot/

scp .\.env root@103.75.183.59:/root/banmaorps_bot/

pm2 restart banmaorps_bot
pm2 stop banmaorps_bot
pm2 logs banmaorps_bot
pm2 start index.js --name banmaorps_bot
pm2 start yarn --name banmaorps_bot -- start
pm2 status
pm2 save
pm2 startup
cd /root/banmaorps_bot
ls -l
mkdir banmaorps_bot

npm install ethers node-telegram-bot-api dotenv
npm install pm2 -g

# Lệnh này di chuyển tất cả file và thư mục dự án vào thư mục mới
mv banmao.db BanmaoRPS_ABI.json database.js db.json exec_recipe.log i18n.js index.js locales/ node_modules/ package.json package-lock.json recipe_*.log banmaorps_bot/
# Di chuyển thư mục .git (lịch sử git) và file .gitignore
# (Nếu báo lỗi "No such file" cho .gitignore hoặc .env cũng không sao)
mv .git .gitignore .env banmaorps_bot/

(Kill) tất cả các bot cũ
Lệnh này sẽ "giết" tất cả các tiến trình node (bao gồm cả con bot "zombie" đang bị treo).

pkill node

Mở Firewall (Rất quan trọng)
DApp (frontend) của bạn cần gọi đến API (ví dụ: cổng 3000). Bạn phải mở cổng này trên firewall của VPS.

Bash

# Nếu dùng ufw (phổ biến trên Ubuntu)
sudo ufw allow 3000/tcp
sudo ufw enable
sudo ufw status
Bây giờ, DApp của bạn có thể gọi đến http://YOUR_SERVER_IP:3000/api/generate-token.

